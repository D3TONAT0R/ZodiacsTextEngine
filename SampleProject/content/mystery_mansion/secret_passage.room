@ENTER
+TEXT
You find a narrow, dark passage behind the bookshelf. It leads to a locked iron door. You can try to <h>OPEN DOOR<r> or <h>RETURN<r> to the library.
+WAIT
+SPACE

>OPEN DOOR
IF has_key == 1
    +TEXT The key fits! The door opens to reveal a hidden treasure room.
    +WAIT
    +GOTO ending_treasure
ELSE
    +TEXT The door is locked tight. You need a key.
    +WAIT
    +SPACE
    +GOTO secret_passage
ENDIF

>RETURN
+GOTO library
